<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@libp2p/example-discovery-mechanisms | Documentation - v1.0.0</title><meta name="description" content="Documentation for Documentation"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/search.js" id="tsd-search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base="..">
<div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<div class="field">
<div id="tsd-toolbar-links"></div></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">Documentation - v1.0.0</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-content">
<div class="tsd-page-title">
<ul class="tsd-breadcrumb">
<li><a href="../index.html">Documentation</a></li>
<li><a href="_libp2p_example_discovery_mechanisms.html">@libp2p/example-discovery-mechanisms</a></li></ul>
<h1>Module @libp2p/example-discovery-mechanisms</h1></div>
<section class="tsd-panel tsd-typography"><a id="md:libp2pexample-discovery-mechanisms-" class="tsd-anchor"></a><h1><a href="#md:libp2pexample-discovery-mechanisms-">@libp2p/example-discovery-mechanisms <!-- omit in toc --></a></h1><p><a href="http://libp2p.io/"><img src="https://img.shields.io/badge/project-libp2p-yellow.svg?style=flat-square" alt="libp2p.io"></a>
<a href="https://discuss.libp2p.io"><img src="https://img.shields.io/discourse/https/discuss.libp2p.io/posts.svg?style=flat-square" alt="Discuss"></a>
<a href="https://codecov.io/gh/libp2p/js-libp2p"><img src="https://img.shields.io/codecov/c/github/libp2p/js-libp2p.svg?style=flat-square" alt="codecov"></a>
<a href="https://github.com/libp2p/js-libp2p/actions/workflows/main.yml?query=branch%3Amaster"><img src="https://img.shields.io/github/actions/workflow/status/libp2p/js-libp2p/main.yml?branch=master&style=flat-square" alt="CI"></a></p>
<blockquote>
<p>How to configure peer discovery mechanisms</p>
</blockquote>
<a id="md:table-of-contents-" class="tsd-anchor"></a><h2><a href="#md:table-of-contents-">Table of contents <!-- omit in toc --></a></h2><ul>
<li><a href="#1-bootstrap-list-of-peers-when-booting-a-node">1. Bootstrap list of Peers when booting a node</a></li>
<li><a href="#2-multicastdns-to-find-other-peers-in-the-network">2. MulticastDNS to find other peers in the network</a></li>
<li><a href="#3-pubsub-based-peer-discovery">3. Pubsub based Peer Discovery</a></li>
<li><a href="#4-where-to-find-other-peer-discovery-mechanisms">4. Where to find other Peer Discovery Mechanisms</a></li>
<li><a href="#license">License</a></li>
<li><a href="#contribution">Contribution</a></li>
</ul>
<p>With this system, a libp2p node can both have a set of nodes to always connect on boot (bootstraper nodes), discover nodes through locality (e.g connected in the same LAN) or through serendipity (random walks on a DHT).</p>
<p>These mechanisms save configuration and enable a node to operate without any explicit dials, it will just work. Once new peers are discovered, their known data is stored in the peer&#39;s PeerStore.</p>
<a id="md:1-bootstrap-list-of-peers-when-booting-a-node" class="tsd-anchor"></a><h2><a href="#md:1-bootstrap-list-of-peers-when-booting-a-node">1. Bootstrap list of Peers when booting a node</a></h2><p>For this demo, we will connect to IPFS default bootstrapper nodes and so, we will need to support the same set of features those nodes have, that are: TCP, mplex, and NOISE. You can see the complete example at <a href="./1.js">1.js</a>.</p>
<p>First, we create our libp2p node.</p>
<pre><code class="language-JavaScript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">createLibp2p</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;libp2p&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">bootstrap</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@libp2p/bootstrap&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">tcp</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@libp2p/tcp&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">mplex</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@libp2p/mplex&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">yamux</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@chainsafe/libp2p-yamux&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">noise</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@chainsafe/libp2p-noise&#39;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">node</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">createLibp2p</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">transports:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-0">tcp</span><span class="hl-1">()</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  </span><span class="hl-5">streamMuxers:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-0">yamux</span><span class="hl-1">(),</span><br/><span class="hl-1">    </span><span class="hl-0">mplex</span><span class="hl-1">()</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  </span><span class="hl-5">connectionEncryption:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-0">noise</span><span class="hl-1">()</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  </span><span class="hl-5">peerDiscovery:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-0">bootstrap</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-5">interval:</span><span class="hl-1"> </span><span class="hl-9">60e3</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">list:</span><span class="hl-1"> </span><span class="hl-5">bootstrapers</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">})</span>
</code><button>Copy</button></pre>
<p>In this configuration, we use a <code>bootstrappers</code> array listing peers to connect <em>on boot</em>. Here is the list used by js-ipfs and go-ipfs.</p>
<pre><code class="language-JavaScript"><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">bootstrapers</span><span class="hl-1"> = [</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;/ip4/104.131.131.82/tcp/4001/p2p/QmaCpDMGvV2BGHeYERUEnRQAwe3N8SzbUtfsmvsqQLuvuJ&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;/dnsaddr/bootstrap.libp2p.io/p2p/QmNnooDu7bfjPFoTZYxMNLWUQJyrVwtbZg5gBMjTezGAJN&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;/dnsaddr/bootstrap.libp2p.io/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;/dnsaddr/bootstrap.libp2p.io/p2p/QmZa1sAxajnQjVM8WjWXoMbmPd7NsWhfKsPkErzpm9wGkp&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;/dnsaddr/bootstrap.libp2p.io/p2p/QmQCU2EcMqAqQPR2i9bChDtGNJchTbq5TbXJJ16u19uLTa&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;/dnsaddr/bootstrap.libp2p.io/p2p/QmcZf59bWwK5XFi76CZX8cbJ4BhTzzA3gU1ZjYZcYW3dwt&#39;</span><br/><span class="hl-1">]</span>
</code><button>Copy</button></pre>
<p>Now, once we create and start the node, we can listen for events such as <code>peer:discovery</code> and <code>peer:connect</code>, these events tell us when we found a peer, independently of the discovery mechanism used and when we actually dialed to that peer.</p>
<pre><code class="language-JavaScript"><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">node</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">createLibp2p</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">start:</span><span class="hl-1"> </span><span class="hl-6">false</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">addresses:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">listen:</span><span class="hl-1"> [</span><span class="hl-2">&#39;/ip4/0.0.0.0/tcp/0&#39;</span><span class="hl-1">]</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-5">transports:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-0">tcp</span><span class="hl-1">()</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  </span><span class="hl-5">streamMuxers:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-0">yamux</span><span class="hl-1">(),</span><br/><span class="hl-1">    </span><span class="hl-0">mplex</span><span class="hl-1">()</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  </span><span class="hl-5">connectionEncryption:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-0">noise</span><span class="hl-1">()</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  </span><span class="hl-5">peerDiscovery:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-0">bootstrap</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-5">interval:</span><span class="hl-1"> </span><span class="hl-9">60e3</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">list:</span><span class="hl-1"> </span><span class="hl-5">bootstrapers</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-5">node</span><span class="hl-1">.</span><span class="hl-0">addEventListener</span><span class="hl-1">(</span><span class="hl-2">&#39;peer:connect&#39;</span><span class="hl-1">, (</span><span class="hl-5">evt</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Connection established to:&#39;</span><span class="hl-1">, </span><span class="hl-5">evt</span><span class="hl-1">.</span><span class="hl-5">detail</span><span class="hl-1">.</span><span class="hl-5">remotePeer</span><span class="hl-1">.</span><span class="hl-0">toString</span><span class="hl-1">())	</span><span class="hl-3">// Emitted when a new connection has been created</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-5">node</span><span class="hl-1">.</span><span class="hl-0">addEventListener</span><span class="hl-1">(</span><span class="hl-2">&#39;peer:discovery&#39;</span><span class="hl-1">, (</span><span class="hl-5">evt</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">// No need to dial, autoDial is on</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Discovered:&#39;</span><span class="hl-1">, </span><span class="hl-5">evt</span><span class="hl-1">.</span><span class="hl-5">detail</span><span class="hl-1">.</span><span class="hl-5">id</span><span class="hl-1">.</span><span class="hl-0">toString</span><span class="hl-1">())</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">node</span><span class="hl-1">.</span><span class="hl-0">start</span><span class="hl-1">()</span>
</code><button>Copy</button></pre>
<p>From running <a href="./1.js">1.js</a>, you should see the following:</p>
<pre><code class="language-bash"><span class="hl-1">&gt; node 1.js</span><br/><span class="hl-0">Discovered:</span><span class="hl-1"> </span><span class="hl-2">QmaCpDMGvV2BGHeYERUEnRQAwe3N8SzbUtfsmvsqQLuvuJ</span><br/><span class="hl-0">Discovered:</span><span class="hl-1"> </span><span class="hl-2">QmNnooDu7bfjPFoTZYxMNLWUQJyrVwtbZg5gBMjTezGAJN</span><br/><span class="hl-0">Discovered:</span><span class="hl-1"> </span><span class="hl-2">QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb</span><br/><span class="hl-0">Discovered:</span><span class="hl-1"> </span><span class="hl-2">QmZa1sAxajnQjVM8WjWXoMbmPd7NsWhfKsPkErzpm9wGkp</span><br/><span class="hl-0">Discovered:</span><span class="hl-1"> </span><span class="hl-2">QmQCU2EcMqAqQPR2i9bChDtGNJchTbq5TbXJJ16u19uLTa</span><br/><span class="hl-0">Discovered:</span><span class="hl-1"> </span><span class="hl-2">QmcZf59bWwK5XFi76CZX8cbJ4BhTzzA3gU1ZjYZcYW3dwt</span><br/><span class="hl-0">Connection</span><span class="hl-1"> </span><span class="hl-2">established</span><span class="hl-1"> </span><span class="hl-2">to:</span><span class="hl-1"> </span><span class="hl-2">QmaCpDMGvV2BGHeYERUEnRQAwe3N8SzbUtfsmvsqQLuvuJ</span><br/><span class="hl-0">Connection</span><span class="hl-1"> </span><span class="hl-2">established</span><span class="hl-1"> </span><span class="hl-2">to:</span><span class="hl-1"> </span><span class="hl-2">QmNnooDu7bfjPFoTZYxMNLWUQJyrVwtbZg5gBMjTezGAJN</span><br/><span class="hl-0">Connection</span><span class="hl-1"> </span><span class="hl-2">established</span><span class="hl-1"> </span><span class="hl-2">to:</span><span class="hl-1"> </span><span class="hl-2">QmZa1sAxajnQjVM8WjWXoMbmPd7NsWhfKsPkErzpm9wGkp</span><br/><span class="hl-0">Connection</span><span class="hl-1"> </span><span class="hl-2">established</span><span class="hl-1"> </span><span class="hl-2">to:</span><span class="hl-1"> </span><span class="hl-2">QmQCU2EcMqAqQPR2i9bChDtGNJchTbq5TbXJJ16u19uLTa</span><br/><span class="hl-0">Connection</span><span class="hl-1"> </span><span class="hl-2">established</span><span class="hl-1"> </span><span class="hl-2">to:</span><span class="hl-1"> </span><span class="hl-2">QmcZf59bWwK5XFi76CZX8cbJ4BhTzzA3gU1ZjYZcYW3dwt</span><br/><span class="hl-0">Connection</span><span class="hl-1"> </span><span class="hl-2">established</span><span class="hl-1"> </span><span class="hl-2">to:</span><span class="hl-1"> </span><span class="hl-2">QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb</span>
</code><button>Copy</button></pre>
<a id="md:2-multicastdns-to-find-other-peers-in-the-network" class="tsd-anchor"></a><h2><a href="#md:2-multicastdns-to-find-other-peers-in-the-network">2. MulticastDNS to find other peers in the network</a></h2><p>For this example, we need <code>@libp2p/mdns</code>, go ahead and <code>npm install</code> it. You can find the complete solution at <a href="./2.js">2.js</a>.</p>
<p>Update your libp2p configuration to include MulticastDNS.</p>
<pre><code class="language-JavaScript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">createLibp2p</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;libp2p&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">mdns</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@libp2p/mdns&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">tcp</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@libp2p/tcp&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">mplex</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@libp2p/mplex&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">yamux</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@chainsafe/libp2p-yamux&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">noise</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@chainsafe/libp2p-noise&#39;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-0">createNode</span><span class="hl-1"> = () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">createLibp2p</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-5">addresses:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">listen:</span><span class="hl-1"> [</span><span class="hl-2">&#39;/ip4/0.0.0.0/tcp/0&#39;</span><span class="hl-1">]</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-5">transports:</span><span class="hl-1"> [</span><br/><span class="hl-1">      </span><span class="hl-0">tcp</span><span class="hl-1">()</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-5">streamMuxers:</span><span class="hl-1"> [</span><br/><span class="hl-1">      </span><span class="hl-0">yamux</span><span class="hl-1">(),</span><span class="hl-0">mplex</span><span class="hl-1">()</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-5">connectionEncryption:</span><span class="hl-1"> [</span><br/><span class="hl-1">      </span><span class="hl-0">noise</span><span class="hl-1">()</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-5">peerDiscovery:</span><span class="hl-1"> [</span><br/><span class="hl-1">      </span><span class="hl-0">mdns</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-5">interval:</span><span class="hl-1"> </span><span class="hl-9">20e3</span><br/><span class="hl-1">      })</span><br/><span class="hl-1">    ]</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>To observe it working, spawn two nodes.</p>
<pre><code class="language-JavaScript"><span class="hl-6">const</span><span class="hl-1"> [</span><span class="hl-7">node1</span><span class="hl-1">, </span><span class="hl-7">node2</span><span class="hl-1">] = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-10">Promise</span><span class="hl-1">.</span><span class="hl-0">all</span><span class="hl-1">([</span><br/><span class="hl-1">  </span><span class="hl-0">createNode</span><span class="hl-1">(),</span><br/><span class="hl-1">  </span><span class="hl-0">createNode</span><span class="hl-1">()</span><br/><span class="hl-1">])</span><br/><br/><span class="hl-5">node1</span><span class="hl-1">.</span><span class="hl-0">addEventListener</span><span class="hl-1">(</span><span class="hl-2">&#39;peer:discovery&#39;</span><span class="hl-1">, (</span><span class="hl-5">evt</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Discovered:&#39;</span><span class="hl-1">, </span><span class="hl-5">evt</span><span class="hl-1">.</span><span class="hl-5">detail</span><span class="hl-1">.</span><span class="hl-5">id</span><span class="hl-1">.</span><span class="hl-0">toString</span><span class="hl-1">()))</span><br/><span class="hl-5">node2</span><span class="hl-1">.</span><span class="hl-0">addEventListener</span><span class="hl-1">(</span><span class="hl-2">&#39;peer:discovery&#39;</span><span class="hl-1">, (</span><span class="hl-5">evt</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Discovered:&#39;</span><span class="hl-1">, </span><span class="hl-5">evt</span><span class="hl-1">.</span><span class="hl-5">detail</span><span class="hl-1">.</span><span class="hl-5">id</span><span class="hl-1">.</span><span class="hl-0">toString</span><span class="hl-1">()))</span>
</code><button>Copy</button></pre>
<p>If you run this example, you will see the other peers being discovered.</p>
<pre><code class="language-bash"><span class="hl-1">&gt; node 2.js</span><br/><span class="hl-0">Discovered:</span><span class="hl-1"> </span><span class="hl-2">QmSSbQpuKrxkoXHm1v4Pi35hPN5hUHMZoBoawEs2Nhvi8m</span><br/><span class="hl-0">Discovered:</span><span class="hl-1"> </span><span class="hl-2">QmRcXXhtG8vTqwVBRonKWtV4ovDoC1Fe56WYtcrw694eiJ</span>
</code><button>Copy</button></pre>
<a id="md:3-pubsub-based-peer-discovery" class="tsd-anchor"></a><h2><a href="#md:3-pubsub-based-peer-discovery">3. Pubsub based Peer Discovery</a></h2><p>For this example, we need <a href="https://github.com/libp2p/js-libp2p-pubsub-peer-discovery/"><code>@libp2p/pubsub-peer-discovery</code></a>, go ahead and <code>npm install</code> it. You also need to spin up a set of <a href="https://github.com/libp2p/js-libp2p-relay-server"><code>libp2p-relay-servers</code></a>. These servers act as relay servers and a peer discovery source.</p>
<p>In the context of this example, we will create and run the <code>libp2p-relay-server</code> in the same code snippet. You can find the complete solution at <a href="./3.js">3.js</a>.</p>
<p>You can create your libp2p nodes as follows:</p>
<pre><code class="language-js"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">createLibp2p</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;libp2p&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">tcp</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@libp2p/tcp&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">mplex</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@libp2p/mplex&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">noise</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@chainsafe/libp2p-noise&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">GossipSub</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@chainsafe/libp2p-gossipsub&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">bootstrap</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@libp2p/bootstrap&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">PubSubPeerDiscovery</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@libp2p/pubsub-peer-discovery&#39;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-0">createNode</span><span class="hl-1"> = </span><span class="hl-6">async</span><span class="hl-1"> (</span><span class="hl-5">bootstrapers</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">node</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">createLibp2p</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-5">addresses:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">listen:</span><span class="hl-1"> [</span><span class="hl-2">&#39;/ip4/0.0.0.0/tcp/0&#39;</span><span class="hl-1">]</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-5">transports:</span><span class="hl-1"> [</span><br/><span class="hl-1">      </span><span class="hl-0">tcp</span><span class="hl-1">()</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-5">streamMuxers:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-0">yamux</span><span class="hl-1">(),</span><span class="hl-0">mplex</span><span class="hl-1">()</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-5">connectionEncryption:</span><span class="hl-1"> [</span><br/><span class="hl-1">      </span><span class="hl-0">noise</span><span class="hl-1">()</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-5">pubsub:</span><span class="hl-1"> </span><span class="hl-0">gossipsub</span><span class="hl-1">({ </span><span class="hl-5">allowPublishToZeroPeers:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1"> }),</span><br/><span class="hl-1">    </span><span class="hl-5">peerDiscovery:</span><span class="hl-1"> [</span><br/><span class="hl-1">      </span><span class="hl-0">bootstrap</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-5">interval:</span><span class="hl-1"> </span><span class="hl-9">60e3</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-5">list:</span><span class="hl-1"> </span><span class="hl-5">bootstrapers</span><br/><span class="hl-1">      }),</span><br/><span class="hl-1">      </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">PubSubPeerDiscovery</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-5">interval:</span><span class="hl-1"> </span><span class="hl-9">1000</span><br/><span class="hl-1">      })</span><br/><span class="hl-1">    ]</span><br/><span class="hl-1">  })</span><br/><br/><span class="hl-1">  </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-5">node</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>We will use the <code>libp2p-relay-server</code> as bootstrap nodes for the libp2p nodes, so that they establish a connection with the relay after starting. As a result, after they establish a connection with the relay, the pubsub discovery will kick in and the relay will advertise them.</p>
<pre><code class="language-js"><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">relay</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">createLibp2p</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-5">addresses:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">listen:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-2">&#39;/ip4/0.0.0.0/tcp/0&#39;</span><br/><span class="hl-1">      ]</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-5">transports:</span><span class="hl-1"> [</span><span class="hl-0">tcp</span><span class="hl-1">()],</span><br/><span class="hl-1">    </span><span class="hl-5">streamMuxers:</span><span class="hl-1"> [</span><span class="hl-0">yamux</span><span class="hl-1">(), </span><span class="hl-0">mplex</span><span class="hl-1">()],</span><br/><span class="hl-1">    </span><span class="hl-5">connectionEncryption:</span><span class="hl-1"> [</span><span class="hl-0">noise</span><span class="hl-1">()],</span><br/><span class="hl-1">    </span><span class="hl-5">pubsub:</span><span class="hl-1"> </span><span class="hl-0">gossipsub</span><span class="hl-1">({ </span><span class="hl-5">allowPublishToZeroPeers:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1"> }),</span><br/><span class="hl-1">    </span><span class="hl-5">peerDiscovery:</span><span class="hl-1"> [</span><br/><span class="hl-1">      </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">PubSubPeerDiscovery</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-5">interval:</span><span class="hl-1"> </span><span class="hl-9">1000</span><br/><span class="hl-1">      })</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-5">relay:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">enabled:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">, </span><span class="hl-3">// Allows you to dial and accept relayed connections. Does not make you a relay.</span><br/><span class="hl-1">      </span><span class="hl-5">hop:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">enabled:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1"> </span><span class="hl-3">// Allows you to be a relay for other peers</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`libp2p relay starting with id: </span><span class="hl-6">${</span><span class="hl-5">relay</span><span class="hl-8">.</span><span class="hl-5">peerId</span><span class="hl-8">.</span><span class="hl-0">toString</span><span class="hl-8">()</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">)</span><br/><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">relay</span><span class="hl-1">.</span><span class="hl-0">start</span><span class="hl-1">()</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">relayMultiaddrs</span><span class="hl-1"> = </span><span class="hl-5">relay</span><span class="hl-1">.</span><span class="hl-0">getMultiaddrs</span><span class="hl-1">()</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> [</span><span class="hl-7">node1</span><span class="hl-1">, </span><span class="hl-7">node2</span><span class="hl-1">] = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-10">Promise</span><span class="hl-1">.</span><span class="hl-0">all</span><span class="hl-1">([</span><br/><span class="hl-1">  </span><span class="hl-0">createNode</span><span class="hl-1">(</span><span class="hl-5">relayMultiaddrs</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-0">createNode</span><span class="hl-1">(</span><span class="hl-5">relayMultiaddrs</span><span class="hl-1">)</span><br/><span class="hl-1">])</span><br/><br/><span class="hl-5">node1</span><span class="hl-1">.</span><span class="hl-0">addEventListener</span><span class="hl-1">(</span><span class="hl-2">&#39;peer:discovery&#39;</span><span class="hl-1">, (</span><span class="hl-5">evt</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Peer </span><span class="hl-6">${</span><span class="hl-5">node1</span><span class="hl-8">.</span><span class="hl-5">peerId</span><span class="hl-8">.</span><span class="hl-0">toString</span><span class="hl-8">()</span><span class="hl-6">}</span><span class="hl-2"> discovered: </span><span class="hl-6">${</span><span class="hl-5">evt</span><span class="hl-8">.</span><span class="hl-5">detail</span><span class="hl-8">.</span><span class="hl-5">id</span><span class="hl-8">.</span><span class="hl-0">toString</span><span class="hl-8">()</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">)</span><br/><span class="hl-1">})</span><br/><span class="hl-5">node2</span><span class="hl-1">.</span><span class="hl-0">addEventListener</span><span class="hl-1">(</span><span class="hl-2">&#39;peer:discovery&#39;</span><span class="hl-1">, (</span><span class="hl-5">evt</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Peer </span><span class="hl-6">${</span><span class="hl-5">node2</span><span class="hl-8">.</span><span class="hl-5">peerId</span><span class="hl-8">.</span><span class="hl-0">toString</span><span class="hl-8">()</span><span class="hl-6">}</span><span class="hl-2"> discovered: </span><span class="hl-6">${</span><span class="hl-5">evt</span><span class="hl-8">.</span><span class="hl-5">detail</span><span class="hl-8">.</span><span class="hl-5">id</span><span class="hl-8">.</span><span class="hl-0">toString</span><span class="hl-8">()</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">)</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-1">;[</span><span class="hl-5">node1</span><span class="hl-1">, </span><span class="hl-5">node2</span><span class="hl-1">].</span><span class="hl-0">forEach</span><span class="hl-1">((</span><span class="hl-5">node</span><span class="hl-1">, </span><span class="hl-5">index</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Node </span><span class="hl-6">${</span><span class="hl-5">index</span><span class="hl-6">}</span><span class="hl-2"> starting with id: </span><span class="hl-6">${</span><span class="hl-5">node</span><span class="hl-8">.</span><span class="hl-5">peerId</span><span class="hl-8">.</span><span class="hl-0">toString</span><span class="hl-8">()</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">))</span><br/><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-10">Promise</span><span class="hl-1">.</span><span class="hl-0">all</span><span class="hl-1">([</span><br/><span class="hl-1">  </span><span class="hl-5">node1</span><span class="hl-1">.</span><span class="hl-0">start</span><span class="hl-1">(),</span><br/><span class="hl-1">  </span><span class="hl-5">node2</span><span class="hl-1">.</span><span class="hl-0">start</span><span class="hl-1">()</span><br/><span class="hl-1">])</span>
</code><button>Copy</button></pre>
<p>If you run this example, you will see the other peers being discovered.</p>
<pre><code class="language-bash"><span class="hl-1">&gt; node 3.js</span><br/><span class="hl-0">libp2p</span><span class="hl-1"> </span><span class="hl-2">relay</span><span class="hl-1"> </span><span class="hl-2">starting</span><span class="hl-1"> </span><span class="hl-2">with</span><span class="hl-1"> </span><span class="hl-2">id:</span><span class="hl-1"> </span><span class="hl-2">QmW6FqVV6RsyoGC5zaeFGW9gSWA3LcBRVZrjkKMruh38Bo</span><br/><span class="hl-0">Node</span><span class="hl-1"> </span><span class="hl-9">0</span><span class="hl-1"> </span><span class="hl-2">starting</span><span class="hl-1"> </span><span class="hl-2">with</span><span class="hl-1"> </span><span class="hl-2">id:</span><span class="hl-1"> </span><span class="hl-2">QmezqDTmEjZ5BfMgVqjSpLY19mVVLTQ9bE9mRpZwtGxL8N</span><br/><span class="hl-0">Node</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1"> </span><span class="hl-2">starting</span><span class="hl-1"> </span><span class="hl-2">with</span><span class="hl-1"> </span><span class="hl-2">id:</span><span class="hl-1"> </span><span class="hl-2">QmYWeom2odTkm79DzB68NHULqVHDaNDqHhoyqLdcV1fqdv</span><br/><span class="hl-0">Peer</span><span class="hl-1"> </span><span class="hl-2">QmezqDTmEjZ5BfMgVqjSpLY19mVVLTQ9bE9mRpZwtGxL8N</span><span class="hl-1"> </span><span class="hl-2">discovered:</span><span class="hl-1"> </span><span class="hl-2">QmW6FqVV6RsyoGC5zaeFGW9gSWA3LcBRVZrjkKMruh38Bo</span><br/><span class="hl-0">Peer</span><span class="hl-1"> </span><span class="hl-2">QmYWeom2odTkm79DzB68NHULqVHDaNDqHhoyqLdcV1fqdv</span><span class="hl-1"> </span><span class="hl-2">discovered:</span><span class="hl-1"> </span><span class="hl-2">QmW6FqVV6RsyoGC5zaeFGW9gSWA3LcBRVZrjkKMruh38Bo</span><br/><span class="hl-0">Peer</span><span class="hl-1"> </span><span class="hl-2">QmYWeom2odTkm79DzB68NHULqVHDaNDqHhoyqLdcV1fqdv</span><span class="hl-1"> </span><span class="hl-2">discovered:</span><span class="hl-1"> </span><span class="hl-2">QmezqDTmEjZ5BfMgVqjSpLY19mVVLTQ9bE9mRpZwtGxL8N</span><br/><span class="hl-0">Peer</span><span class="hl-1"> </span><span class="hl-2">QmezqDTmEjZ5BfMgVqjSpLY19mVVLTQ9bE9mRpZwtGxL8N</span><span class="hl-1"> </span><span class="hl-2">discovered:</span><span class="hl-1"> </span><span class="hl-2">QmYWeom2odTkm79DzB68NHULqVHDaNDqHhoyqLdcV1fqdv</span>
</code><button>Copy</button></pre>
<p>Taking into account the output, after the relay and both libp2p nodes start, both libp2p nodes will discover the bootstrap node (relay) and connect with it. After establishing a connection with the relay, they will discover each other.</p>
<p>This is really useful when running libp2p in constrained environments like a browser. You can run a set of <code>libp2p-relay-server</code> nodes that will be responsible for both relaying websocket connections between browser nodes and for discovering other browser peers.</p>
<a id="md:4-where-to-find-other-peer-discovery-mechanisms" class="tsd-anchor"></a><h2><a href="#md:4-where-to-find-other-peer-discovery-mechanisms">4. Where to find other Peer Discovery Mechanisms</a></h2><p>There are plenty more Peer Discovery Mechanisms out there, you can:</p>
<ul>
<li>Any DHT will offer you a discovery capability. You can simple <em>random-walk</em> the routing tables to find other peers to connect to. For example <a href="https://github.com/libp2p/js-libp2p/tree/master/packages/kad-dht">@libp2p/kad-dht</a> can be used for peer discovery. An example of how to configure it to enable random walks can be found <a href="https://github.com/libp2p/js-libp2p/blob/v0.28.4/doc/CONFIGURATION.md#customizing-dht">here</a>.</li>
<li>You can create your own Discovery service, a registry, a list, a radio beacon, you name it!</li>
</ul>
<a id="md:license" class="tsd-anchor"></a><h2><a href="#md:license">License</a></h2><p>Licensed under either of</p>
<ul>
<li>Apache 2.0, (<a href="LICENSE-APACHE">LICENSE-APACHE</a> / <a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a>)</li>
<li>MIT (<a href="LICENSE-MIT">LICENSE-MIT</a> / <a href="http://opensource.org/licenses/MIT">http://opensource.org/licenses/MIT</a>)</li>
</ul>
<a id="md:contribution" class="tsd-anchor"></a><h2><a href="#md:contribution">Contribution</a></h2><p>Unless you explicitly state otherwise, any contribution intentionally submitted for inclusion in the work by you, as defined in the Apache-2.0 license, shall be dual licensed as above, without any additional terms or conditions.</p>
</section></div>
<div class="col-sidebar">
<div class="page-menu">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)" id="icon-chevronDown"></path></svg>Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="#icon-chevronDown"></use></svg>On This Page</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li>
<ul>
<li><a href="#md:libp2pexample-discovery-mechanisms-"><span>@libp2p/example-<wbr/>discovery-<wbr/>mechanisms </span></a></li>
<li>
<ul>
<li><a href="#md:table-of-contents-"><span>Table of contents </span></a></li>
<li><a href="#md:1-bootstrap-list-of-peers-when-booting-a-node"><span>1. <wbr/>Bootstrap list of <wbr/>Peers when booting a node</span></a></li>
<li><a href="#md:2-multicastdns-to-find-other-peers-in-the-network"><span>2. <wbr/>MulticastDNS to find other peers in the network</span></a></li>
<li><a href="#md:3-pubsub-based-peer-discovery"><span>3. <wbr/>Pubsub based <wbr/>Peer <wbr/>Discovery</span></a></li>
<li><a href="#md:4-where-to-find-other-peer-discovery-mechanisms"><span>4. <wbr/>Where to find other <wbr/>Peer <wbr/>Discovery <wbr/>Mechanisms</span></a></li>
<li><a href="#md:license"><span>License</span></a></li>
<li><a href="#md:contribution"><span>Contribution</span></a></li></ul></li></ul></li></ul></div></details></div>
<div class="site-menu">
<nav class="tsd-navigation"><a href="../index.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><g id="icon-4"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-namespace)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M9.33 16V7.24H10.77L13.446 14.74C13.43 14.54 13.41 14.296 13.386 14.008C13.37 13.712 13.354 13.404 13.338 13.084C13.33 12.756 13.326 12.448 13.326 12.16V7.24H14.37V16H12.93L10.266 8.5C10.282 8.692 10.298 8.936 10.314 9.232C10.33 9.52 10.342 9.828 10.35 10.156C10.366 10.476 10.374 10.784 10.374 11.08V16H9.33Z" fill="var(--color-text)"></path></g></svg><span>Documentation -<wbr/> v1.0.0</span></a>
<ul class="tsd-small-nested-navigation">
<li><a href="_libp2p_example_auto_relay.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/example-<wbr/>auto-<wbr/>relay</span></a></li>
<li><a href="_libp2p_example_chat.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/example-<wbr/>chat</span></a></li>
<li><a href="_libp2p_example_connection_encryption.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/example-<wbr/>connection-<wbr/>encryption</span></a></li>
<li><a href="_libp2p_example_delegated_routing_example.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/example-<wbr/>delegated-<wbr/>routing-<wbr/>example</span></a></li>
<li><a href="_libp2p_example_discovery_mechanisms.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/example-<wbr/>discovery-<wbr/>mechanisms</span></a></li>
<li><a href="_libp2p_example_echo.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/example-<wbr/>echo</span></a></li>
<li><a href="_libp2p_example_peer_and_content_routing.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/example-<wbr/>peer-<wbr/>and-<wbr/>content-<wbr/>routing</span></a></li>
<li><a href="_libp2p_example_pnet.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/example-<wbr/>pnet</span></a></li>
<li><a href="_libp2p_example_protocol_and_stream_muxing.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/example-<wbr/>protocol-<wbr/>and-<wbr/>stream-<wbr/>muxing</span></a></li>
<li><a href="_libp2p_example_pubsub.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/example-<wbr/>pubsub</span></a></li>
<li><a href="_libp2p_example_transports.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/example-<wbr/>transports</span></a></li>
<li><a href="_libp2p_crypto.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/crypto</span></a></li>
<li><a href="_libp2p_interface.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/interface</span></a></li>
<li><a href="_libp2p_interface_compliance_tests.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/interface-<wbr/>compliance-<wbr/>tests</span></a></li>
<li><a href="_libp2p_interface_internal.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/interface-<wbr/>internal</span></a></li>
<li><a href="_libp2p_kad_dht.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/kad-<wbr/>dht</span></a></li>
<li><a href="_libp2p_keychain.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/keychain</span></a></li>
<li><a href="libp2p.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>libp2p</span></a></li>
<li><a href="_libp2p_logger.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/logger</span></a></li>
<li><a href="_libp2p_prometheus_metrics.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/prometheus-<wbr/>metrics</span></a></li>
<li><a href="_libp2p_multistream_select.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/multistream-<wbr/>select</span></a></li>
<li><a href="_libp2p_peer_collections.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/peer-<wbr/>collections</span></a></li>
<li><a href="_libp2p_bootstrap.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/bootstrap</span></a></li>
<li><a href="_libp2p_mdns.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/mdns</span></a></li>
<li><a href="_libp2p_peer_id.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/peer-<wbr/>id</span></a></li>
<li><a href="_libp2p_peer_id_factory.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/peer-<wbr/>id-<wbr/>factory</span></a></li>
<li><a href="_libp2p_peer_record.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/peer-<wbr/>record</span></a></li>
<li><a href="_libp2p_peer_store.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/peer-<wbr/>store</span></a></li>
<li><a href="_libp2p_perf.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/perf</span></a></li>
<li><a href="_libp2p_pubsub.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/pubsub</span></a></li>
<li><a href="_libp2p_floodsub.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/floodsub</span></a></li>
<li><a href="_libp2p_mplex.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/mplex</span></a></li>
<li><a href="_libp2p_tcp.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/tcp</span></a></li>
<li><a href="_libp2p_webrtc.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/webrtc</span></a></li>
<li><a href="_libp2p_websockets.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/websockets</span></a></li>
<li><a href="_libp2p_webtransport.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/webtransport</span></a></li>
<li><a href="_libp2p_utils.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/utils</span></a></li></ul></nav></div></div></div>
<div class="overlay"></div></body></html>