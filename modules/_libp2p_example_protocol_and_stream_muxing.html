<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@libp2p/example-protocol-and-stream-muxing | Documentation - v1.0.0</title><meta name="description" content="Documentation for Documentation"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/search.js" id="tsd-search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base="..">
<div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<div class="field">
<div id="tsd-toolbar-links"></div></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">Documentation - v1.0.0</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-content">
<div class="tsd-page-title">
<ul class="tsd-breadcrumb">
<li><a href="../index.html">Documentation</a></li>
<li><a href="_libp2p_example_protocol_and_stream_muxing.html">@libp2p/example-protocol-and-stream-muxing</a></li></ul>
<h1>Module @libp2p/example-protocol-and-stream-muxing</h1></div>
<section class="tsd-panel tsd-typography"><a id="md:libp2pexample-protocol-and-stream-muxing-" class="tsd-anchor"></a><h1><a href="#md:libp2pexample-protocol-and-stream-muxing-">@libp2p/example-protocol-and-stream-muxing <!-- omit in toc --></a></h1><p><a href="http://libp2p.io/"><img src="https://img.shields.io/badge/project-libp2p-yellow.svg?style=flat-square" alt="libp2p.io"></a>
<a href="https://discuss.libp2p.io"><img src="https://img.shields.io/discourse/https/discuss.libp2p.io/posts.svg?style=flat-square" alt="Discuss"></a>
<a href="https://codecov.io/gh/libp2p/js-libp2p"><img src="https://img.shields.io/codecov/c/github/libp2p/js-libp2p.svg?style=flat-square" alt="codecov"></a>
<a href="https://github.com/libp2p/js-libp2p/actions/workflows/main.yml?query=branch%3Amaster"><img src="https://img.shields.io/github/actions/workflow/status/libp2p/js-libp2p/main.yml?branch=master&style=flat-square" alt="CI"></a></p>
<blockquote>
<p>How to use multiplex protocols streams</p>
</blockquote>
<a id="md:table-of-contents-" class="tsd-anchor"></a><h2><a href="#md:table-of-contents-">Table of contents <!-- omit in toc --></a></h2><ul>
<li><a href="#1-handle-multiple-protocols">1. Handle multiple protocols</a></li>
<li><a href="#2-reuse-existing-connection">2. Reuse existing connection</a></li>
<li><a href="#3-bidirectional-connections">3. Bidirectional connections</a></li>
<li><a href="#license">License</a></li>
<li><a href="#contribution">Contribution</a></li>
</ul>
<p>The feature of agreeing on a protocol over an established connection is what we call <em>protocol multiplexing</em> and it is possible through <a href="https://github.com/multiformats/multistream">multistream-select</a>, another protocol that lets you agree per connection (or stream) which protocol is going to be talked over that connection (select), it also enables you to request the other end to tell you which protocols it supports (ls). You can learn more about multistream-select at its <a href="https://github.com/multiformats/multistream">specification repo</a>.</p>
<a id="md:1-handle-multiple-protocols" class="tsd-anchor"></a><h2><a href="#md:1-handle-multiple-protocols">1. Handle multiple protocols</a></h2><p>Let&#39;s see <em>protocol multiplexing</em> in action! You will need the following modules for this example: <code>libp2p</code>, <code>@libp2p/tcp</code>, <code>@libp2p/peer-id</code>, <code>it-pipe</code>, <code>it-buffer</code> and <code>streaming-iterables</code>. This example reuses the base left by the <a href="../transports">Transports</a> example. You can see the complete solution at <a href="./1.js">1.js</a>.</p>
<p>After creating the nodes, we need to tell libp2p which protocols to handle.</p>
<pre><code class="language-JavaScript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">pipe</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;it-pipe&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">map</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;streaming-iterables&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">toBuffer</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;it-buffer&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">fromString</span><span class="hl-1"> </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-5">uint8ArrayFromString</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;uint8arrays/from-string&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">toString</span><span class="hl-1"> </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-5">uint8ArrayToString</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;uint8arrays/to-string&#39;</span><br/><br/><span class="hl-3">// ...</span><br/><span class="hl-6">const</span><span class="hl-1"> [</span><span class="hl-7">node1</span><span class="hl-1">, </span><span class="hl-7">node2</span><span class="hl-1">] = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-10">Promise</span><span class="hl-1">.</span><span class="hl-0">all</span><span class="hl-1">([</span><br/><span class="hl-1">  </span><span class="hl-0">createNode</span><span class="hl-1">(),</span><br/><span class="hl-1">  </span><span class="hl-0">createNode</span><span class="hl-1">()</span><br/><span class="hl-1">])</span><br/><br/><span class="hl-3">// Add node&#39;s 2 data to the PeerStore</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">node1</span><span class="hl-1">.</span><span class="hl-5">peerStore</span><span class="hl-1">.</span><span class="hl-0">patch</span><span class="hl-1">(</span><span class="hl-5">node2</span><span class="hl-1">.</span><span class="hl-5">peerId</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-5">multiaddrs:</span><span class="hl-1"> </span><span class="hl-5">node2</span><span class="hl-1">.</span><span class="hl-0">getMultiaddrs</span><span class="hl-1">()</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-3">// Here we are telling libp2p that if someone dials this node to talk with the `/your-protocol`</span><br/><span class="hl-3">// multicodec, the protocol identifier, please call this handler and give it the stream</span><br/><span class="hl-3">// so that incomming data can be handled</span><br/><span class="hl-5">node2</span><span class="hl-1">.</span><span class="hl-0">handle</span><span class="hl-1">(</span><span class="hl-2">&#39;/your-protocol&#39;</span><span class="hl-1">, ({ </span><span class="hl-5">stream</span><span class="hl-1"> }) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">pipe</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-5">stream</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">source</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> (</span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> () {</span><br/><span class="hl-1">      </span><span class="hl-4">for</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> (</span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">msg</span><span class="hl-1"> </span><span class="hl-6">of</span><span class="hl-1"> </span><span class="hl-5">source</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-0">uint8ArrayToString</span><span class="hl-1">(</span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-0">subarray</span><span class="hl-1">()))</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    })()</span><br/><span class="hl-1">  )</span><br/><span class="hl-1">})</span>
</code><button>Copy</button></pre>
<p>After the protocol is <em>handled</em>, now we can dial to it.</p>
<pre><code class="language-JavaScript"><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">stream</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">node1</span><span class="hl-1">.</span><span class="hl-0">dialProtocol</span><span class="hl-1">(</span><span class="hl-5">node2</span><span class="hl-1">.</span><span class="hl-5">peerId</span><span class="hl-1">, [</span><span class="hl-2">&#39;/your-protocol&#39;</span><span class="hl-1">])</span><br/><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">pipe</span><span class="hl-1">(</span><br/><span class="hl-1">  [</span><span class="hl-0">uint8ArrayFromString</span><span class="hl-1">(</span><span class="hl-2">&#39;my own protocol, wow!&#39;</span><span class="hl-1">)],</span><br/><span class="hl-1">  </span><span class="hl-5">stream</span><br/><span class="hl-1">)</span>
</code><button>Copy</button></pre>
<p>You might have seen this in the <a href="../transports">Transports</a> examples. However, what it was not explained is that you can do more than exact string matching, for example, you can use semver.</p>
<pre><code class="language-JavaScript"><span class="hl-5">node2</span><span class="hl-1">.</span><span class="hl-0">handle</span><span class="hl-1">(</span><span class="hl-2">&#39;/another-protocol/1.0.1&#39;</span><span class="hl-1">, ({ </span><span class="hl-5">stream</span><span class="hl-1"> }) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">pipe</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-5">stream</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> (</span><span class="hl-5">source</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">for</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> (</span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">msg</span><span class="hl-1"> </span><span class="hl-6">of</span><span class="hl-1"> </span><span class="hl-5">source</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-0">uint8ArrayToString</span><span class="hl-1">(</span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-0">subarray</span><span class="hl-1">()))</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  )</span><br/><span class="hl-1">})</span><br/><span class="hl-3">// ...</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">stream</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">node1</span><span class="hl-1">.</span><span class="hl-0">dialProtocol</span><span class="hl-1">(</span><span class="hl-5">node2</span><span class="hl-1">.</span><span class="hl-5">peerId</span><span class="hl-1">, [</span><span class="hl-2">&#39;/another-protocol/1.0.0&#39;</span><span class="hl-1">])</span><br/><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">pipe</span><span class="hl-1">(</span><br/><span class="hl-1">  [</span><span class="hl-0">uint8ArrayFromString</span><span class="hl-1">(</span><span class="hl-2">&#39;my own protocol, wow!&#39;</span><span class="hl-1">)],</span><br/><span class="hl-1">  </span><span class="hl-5">stream</span><br/><span class="hl-1">)</span>
</code><button>Copy</button></pre>
<p>This feature is super power for network protocols. It works in the same way as versioning your RPC/REST API, but for anything that goes in the wire. We had to use this feature to upgrade protocols within the IPFS Stack (i.e Bitswap) and we successfully managed to do so without any network splits.</p>
<p>There is still one last feature, you can provide multiple protocols for the same handler. If you have a backwards incompatible change, but it only requires minor changes to the code, you may prefer to do protocol checking instead of having multiple handlers</p>
<pre><code class="language-JavaScript"><span class="hl-5">node2</span><span class="hl-1">.</span><span class="hl-0">handle</span><span class="hl-1">([</span><span class="hl-2">&#39;/another-protocol/1.0.0&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;/another-protocol/2.0.0&#39;</span><span class="hl-1">], ({ </span><span class="hl-5">stream</span><span class="hl-1"> }) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">stream</span><span class="hl-1">.</span><span class="hl-5">protocol</span><span class="hl-1"> === </span><span class="hl-2">&#39;/another-protocol/2.0.0&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">// handle backwards compatibility</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-0">pipe</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-5">stream</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> (</span><span class="hl-5">source</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">for</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> (</span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">msg</span><span class="hl-1"> </span><span class="hl-6">of</span><span class="hl-1"> </span><span class="hl-5">source</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-0">uint8ArrayToString</span><span class="hl-1">(</span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-0">subarray</span><span class="hl-1">()))</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  )</span><br/><span class="hl-1">})</span>
</code><button>Copy</button></pre>
<p>Try all of this out by executing <a href="./1.js">1.js</a>.</p>
<a id="md:2-reuse-existing-connection" class="tsd-anchor"></a><h2><a href="#md:2-reuse-existing-connection">2. Reuse existing connection</a></h2><p>The examples above would require a node to create a whole new connection for every time it dials in one of the protocols, this is a waste of resources and also it might be simply not possible (e.g lack of file descriptors, not enough ports being open, etc). What we really want is to dial a connection once and then multiplex several virtual connections (stream) over a single connection, this is where <em>stream multiplexing</em> comes into play.</p>
<p>Stream multiplexing is an old concept, in fact it happens in many of the layers of the <a href="https://en.wikipedia.org/wiki/OSI_model">OSI System</a>. In libp2p, we make this feature to our avail by letting the user pick which module for stream multiplexing to use.</p>
<p>Currently, we have <a href="https://github.com/libp2p/js-libp2p-mplex">libp2p-mplex</a> and pluging it in is as easy as adding a transport. Let&#39;s revisit our libp2p configuration.</p>
<pre><code class="language-JavaScript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">createLibp2p</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;libp2p&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">tcp</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@libp2p/tcp&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">mplex</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@libp2p/mplex&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">yamux</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@chainsafe/libp2p-yamux&#39;</span><br/><br/><span class="hl-3">//...</span><br/><br/><span class="hl-0">createLibp2p</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-3">//...</span><br/><span class="hl-1">  </span><span class="hl-5">transports:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-0">tcp</span><span class="hl-1">()</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  </span><span class="hl-5">streamMuxers:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-0">yamux</span><span class="hl-1">(),</span><br/><span class="hl-1">    </span><span class="hl-0">mplex</span><span class="hl-1">()</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">})</span><br/>
</code><button>Copy</button></pre>
<p>With this, we can dial as many times as we want to a peer and always reuse the same established underlying connection.</p>
<pre><code class="language-JavaScript"><span class="hl-5">node2</span><span class="hl-1">.</span><span class="hl-0">handle</span><span class="hl-1">([</span><span class="hl-2">&#39;/a&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;/b&#39;</span><span class="hl-1">], ({ </span><span class="hl-5">stream</span><span class="hl-1"> }) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">pipe</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-5">stream</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> (</span><span class="hl-5">source</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">for</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> (</span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">msg</span><span class="hl-1"> </span><span class="hl-6">of</span><span class="hl-1"> </span><span class="hl-5">source</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`from: </span><span class="hl-6">${</span><span class="hl-5">stream</span><span class="hl-8">.</span><span class="hl-5">protocol</span><span class="hl-6">}</span><span class="hl-2">, msg: </span><span class="hl-6">${</span><span class="hl-0">uint8ArrayToString</span><span class="hl-8">(</span><span class="hl-5">msg</span><span class="hl-8">.</span><span class="hl-0">subarray</span><span class="hl-8">())</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">)</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  )</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">stream</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">node1</span><span class="hl-1">.</span><span class="hl-0">dialProtocol</span><span class="hl-1">(</span><span class="hl-5">node2</span><span class="hl-1">.</span><span class="hl-5">peerId</span><span class="hl-1">, [</span><span class="hl-2">&#39;/a&#39;</span><span class="hl-1">])</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">pipe</span><span class="hl-1">(</span><br/><span class="hl-1">  [</span><span class="hl-0">uint8ArrayFromString</span><span class="hl-1">(</span><span class="hl-2">&#39;protocol (a)&#39;</span><span class="hl-1">)],</span><br/><span class="hl-1">  </span><span class="hl-5">stream</span><br/><span class="hl-1">)</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">stream2</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">node1</span><span class="hl-1">.</span><span class="hl-0">dialProtocol</span><span class="hl-1">(</span><span class="hl-5">node2</span><span class="hl-1">.</span><span class="hl-5">peerId</span><span class="hl-1">, [</span><span class="hl-2">&#39;/b&#39;</span><span class="hl-1">])</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">pipe</span><span class="hl-1">(</span><br/><span class="hl-1">  [</span><span class="hl-0">uint8ArrayFromString</span><span class="hl-1">(</span><span class="hl-2">&#39;protocol (b)&#39;</span><span class="hl-1">)],</span><br/><span class="hl-1">  </span><span class="hl-5">stream2</span><br/><span class="hl-1">)</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">stream3</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">node1</span><span class="hl-1">.</span><span class="hl-0">dialProtocol</span><span class="hl-1">(</span><span class="hl-5">node2</span><span class="hl-1">.</span><span class="hl-5">peerId</span><span class="hl-1">, [</span><span class="hl-2">&#39;/b&#39;</span><span class="hl-1">])</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">pipe</span><span class="hl-1">(</span><br/><span class="hl-1">  [</span><span class="hl-0">uint8ArrayFromString</span><span class="hl-1">(</span><span class="hl-2">&#39;another stream on protocol (b)&#39;</span><span class="hl-1">)],</span><br/><span class="hl-1">  </span><span class="hl-5">stream3</span><br/><span class="hl-1">)</span>
</code><button>Copy</button></pre>
<p>By running <a href="./2.js">2.js</a> you should see the following result:</p>
<pre><code><span class="hl-1">&gt; </span><span class="hl-5">node</span><span class="hl-1"> 2.</span><span class="hl-5">js</span><br/><span class="hl-11">from</span><span class="hl-1">: /</span><span class="hl-5">a</span><span class="hl-1">, </span><span class="hl-11">msg</span><span class="hl-1">: </span><span class="hl-0">protocol</span><span class="hl-1"> (</span><span class="hl-5">a</span><span class="hl-1">)</span><br/><span class="hl-11">from</span><span class="hl-1">: /</span><span class="hl-5">b</span><span class="hl-1">, </span><span class="hl-11">msg</span><span class="hl-1">: </span><span class="hl-0">protocol</span><span class="hl-1"> (</span><span class="hl-5">b</span><span class="hl-1">)</span><br/><span class="hl-11">from</span><span class="hl-1">: /</span><span class="hl-5">b</span><span class="hl-1">, </span><span class="hl-11">msg</span><span class="hl-1">: </span><span class="hl-5">another</span><span class="hl-1"> </span><span class="hl-5">stream</span><span class="hl-1"> </span><span class="hl-5">on</span><span class="hl-1"> </span><span class="hl-0">protocol</span><span class="hl-1"> (</span><span class="hl-5">b</span><span class="hl-1">)</span>
</code><button>Copy</button></pre>
<a id="md:3-bidirectional-connections" class="tsd-anchor"></a><h2><a href="#md:3-bidirectional-connections">3. Bidirectional connections</a></h2><p>There is one last trick on <em>protocol and stream multiplexing</em> that libp2p uses to make everyone&#39;s life easier and that is <em>bidirectional connection</em>.</p>
<p>With the aid of both mechanisms, we can reuse an incomming connection to dial streams out too, this is specially useful when you are behind tricky NAT, firewalls or if you are running in a browser, where you can&#39;t have listening addrs, but you can dial out. By dialing out, you enable other peers to talk with you in Protocols that they want, simply by opening a new multiplexed stream.</p>
<p>You can see this working on example <a href="./3.js">3.js</a>.</p>
<p>As we&#39;ve seen earlier, we can create our node with this createNode function.</p>
<pre><code class="language-js"><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-0">createNode</span><span class="hl-1"> = </span><span class="hl-6">async</span><span class="hl-1"> () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">node</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">createLibp2p</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-5">addresses:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">listen:</span><span class="hl-1"> [</span><span class="hl-2">&#39;/ip4/0.0.0.0/tcp/0&#39;</span><span class="hl-1">]</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-5">transports:</span><span class="hl-1"> [</span><span class="hl-0">tcp</span><span class="hl-1">()],</span><br/><span class="hl-1">    </span><span class="hl-5">streamMuxers:</span><span class="hl-1"> [</span><span class="hl-0">yamux</span><span class="hl-1">(), </span><span class="hl-0">mplex</span><span class="hl-1">()],</span><br/><span class="hl-1">    </span><span class="hl-5">connectionEncryption:</span><span class="hl-1"> [</span><span class="hl-0">noise</span><span class="hl-1">()],</span><br/><span class="hl-1">  })</span><br/><br/><span class="hl-1">  </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-5">node</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>We can now create our two nodes for this example.</p>
<pre><code class="language-js"><span class="hl-6">const</span><span class="hl-1"> [</span><span class="hl-7">node1</span><span class="hl-1">, </span><span class="hl-7">node2</span><span class="hl-1">] = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-10">Promise</span><span class="hl-1">.</span><span class="hl-0">all</span><span class="hl-1">([</span><br/><span class="hl-1">  </span><span class="hl-0">createNode</span><span class="hl-1">(),</span><br/><span class="hl-1">  </span><span class="hl-0">createNode</span><span class="hl-1">()</span><br/><span class="hl-1">])</span>
</code><button>Copy</button></pre>
<p>Since, we want to connect these nodes <code>node1</code> &amp; <code>node2</code>, we add our <code>node2</code> multiaddr in key-value pair in <code>node1</code> peer store.</p>
<pre><code class="language-js"><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">node1</span><span class="hl-1">.</span><span class="hl-5">peerStore</span><span class="hl-1">.</span><span class="hl-0">patch</span><span class="hl-1">(</span><span class="hl-5">node2</span><span class="hl-1">.</span><span class="hl-5">peerId</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-5">multiaddrs:</span><span class="hl-1"> </span><span class="hl-5">node2</span><span class="hl-1">.</span><span class="hl-0">getMultiaddrs</span><span class="hl-1">()</span><br/><span class="hl-1">})</span>
</code><button>Copy</button></pre>
<p>You may notice that we are only adding <code>node2</code> to <code>node1</code> peer store. This is because we want to dial up a bidirectional connection between these two nodes.</p>
<p>Finally, let&#39;s create protocols for <code>node1</code> &amp; <code>node2</code> and dial those protocols.</p>
<pre><code class="language-js"><span class="hl-5">node1</span><span class="hl-1">.</span><span class="hl-0">handle</span><span class="hl-1">(</span><span class="hl-2">&#39;/node-1&#39;</span><span class="hl-1">, ({ </span><span class="hl-5">stream</span><span class="hl-1"> }) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">pipe</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-5">stream</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> (</span><span class="hl-5">source</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">for</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> (</span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">msg</span><span class="hl-1"> </span><span class="hl-6">of</span><span class="hl-1"> </span><span class="hl-5">source</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-0">uint8ArrayToString</span><span class="hl-1">(</span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-0">subarray</span><span class="hl-1">()))</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  )</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-5">node2</span><span class="hl-1">.</span><span class="hl-0">handle</span><span class="hl-1">(</span><span class="hl-2">&#39;/node-2&#39;</span><span class="hl-1">, ({ </span><span class="hl-5">stream</span><span class="hl-1"> }) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">pipe</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-5">stream</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> (</span><span class="hl-5">source</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">for</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> (</span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">msg</span><span class="hl-1"> </span><span class="hl-6">of</span><span class="hl-1"> </span><span class="hl-5">source</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-0">uint8ArrayToString</span><span class="hl-1">(</span><span class="hl-5">msg</span><span class="hl-1">.</span><span class="hl-0">subarray</span><span class="hl-1">()))</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  )</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-3">// Dialing node2 from node1</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">stream1</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">node1</span><span class="hl-1">.</span><span class="hl-0">dialProtocol</span><span class="hl-1">(</span><span class="hl-5">node2</span><span class="hl-1">.</span><span class="hl-5">peerId</span><span class="hl-1">, [</span><span class="hl-2">&#39;/node-2&#39;</span><span class="hl-1">])</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">pipe</span><span class="hl-1">(</span><br/><span class="hl-1">  [</span><span class="hl-0">uint8ArrayFromString</span><span class="hl-1">(</span><span class="hl-2">&#39;from 1 to 2&#39;</span><span class="hl-1">)],</span><br/><span class="hl-1">  </span><span class="hl-5">stream1</span><br/><span class="hl-1">)</span><br/><br/><span class="hl-3">// Dialing node1 from node2</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">stream2</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">node2</span><span class="hl-1">.</span><span class="hl-0">dialProtocol</span><span class="hl-1">(</span><span class="hl-5">node1</span><span class="hl-1">.</span><span class="hl-5">peerId</span><span class="hl-1">, [</span><span class="hl-2">&#39;/node-1&#39;</span><span class="hl-1">])</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">pipe</span><span class="hl-1">(</span><br/><span class="hl-1">  [</span><span class="hl-0">uint8ArrayFromString</span><span class="hl-1">(</span><span class="hl-2">&#39;from 2 to 1&#39;</span><span class="hl-1">)],</span><br/><span class="hl-1">  </span><span class="hl-5">stream2</span><br/><span class="hl-1">)</span>
</code><button>Copy</button></pre>
<p>If we run this code, the result should look like the following:</p>
<pre><code class="language-Bash"><span class="hl-1">&gt; node 3.js</span><br/><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1"> </span><span class="hl-2">to</span><span class="hl-1"> </span><span class="hl-9">2</span><br/><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-9">2</span><span class="hl-1"> </span><span class="hl-2">to</span><span class="hl-1"> </span><span class="hl-9">1</span>
</code><button>Copy</button></pre>
<p>So, we have successfully set up a bidirectional connection with protocol muxing. But you should be aware that we were able to dial from <code>node2</code> to <code>node1</code> even we haven&#39;t added the <code>node1</code> peerId to node2 address book is because we dialed node2 from node1 first. Then, we just dialed back our stream out from <code>node2</code> to <code>node1</code>. So, if we dial from <code>node2</code> to <code>node1</code> before dialing from <code>node1</code> to <code>node2</code> we will get an error.</p>
<p>The code below will result into an error as <code>the dial address is not valid</code>.</p>
<pre><code class="language-js"><span class="hl-3">// Dialing from node2 to node1</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">stream2</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">node2</span><span class="hl-1">.</span><span class="hl-0">dialProtocol</span><span class="hl-1">(</span><span class="hl-5">node1</span><span class="hl-1">.</span><span class="hl-5">peerId</span><span class="hl-1">, [</span><span class="hl-2">&#39;/node-1&#39;</span><span class="hl-1">])</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">pipe</span><span class="hl-1">(</span><br/><span class="hl-1">  [</span><span class="hl-0">uint8ArrayFromString</span><span class="hl-1">(</span><span class="hl-2">&#39;from 2 to 1&#39;</span><span class="hl-1">)],</span><br/><span class="hl-1">  </span><span class="hl-5">stream2</span><br/><span class="hl-1">)</span><br/><br/><span class="hl-3">// Dialing from node1 to node2</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">stream1</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">node1</span><span class="hl-1">.</span><span class="hl-0">dialProtocol</span><span class="hl-1">(</span><span class="hl-5">node2</span><span class="hl-1">.</span><span class="hl-5">peerId</span><span class="hl-1">, [</span><span class="hl-2">&#39;/node-2&#39;</span><span class="hl-1">])</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">pipe</span><span class="hl-1">(</span><br/><span class="hl-1">  [</span><span class="hl-0">uint8ArrayFromString</span><span class="hl-1">(</span><span class="hl-2">&#39;from 1 to 2&#39;</span><span class="hl-1">)],</span><br/><span class="hl-1">  </span><span class="hl-5">stream1</span><br/><span class="hl-1">)</span>
</code><button>Copy</button></pre>
<a id="md:license" class="tsd-anchor"></a><h2><a href="#md:license">License</a></h2><p>Licensed under either of</p>
<ul>
<li>Apache 2.0, (<a href="LICENSE-APACHE">LICENSE-APACHE</a> / <a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a>)</li>
<li>MIT (<a href="LICENSE-MIT">LICENSE-MIT</a> / <a href="http://opensource.org/licenses/MIT">http://opensource.org/licenses/MIT</a>)</li>
</ul>
<a id="md:contribution" class="tsd-anchor"></a><h2><a href="#md:contribution">Contribution</a></h2><p>Unless you explicitly state otherwise, any contribution intentionally submitted for inclusion in the work by you, as defined in the Apache-2.0 license, shall be dual licensed as above, without any additional terms or conditions.</p>
</section></div>
<div class="col-sidebar">
<div class="page-menu">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)" id="icon-chevronDown"></path></svg>Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="#icon-chevronDown"></use></svg>On This Page</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li>
<ul>
<li><a href="#md:libp2pexample-protocol-and-stream-muxing-"><span>@libp2p/example-<wbr/>protocol-<wbr/>and-<wbr/>stream-<wbr/>muxing </span></a></li>
<li>
<ul>
<li><a href="#md:table-of-contents-"><span>Table of contents </span></a></li>
<li><a href="#md:1-handle-multiple-protocols"><span>1. <wbr/>Handle multiple protocols</span></a></li>
<li><a href="#md:2-reuse-existing-connection"><span>2. <wbr/>Reuse existing connection</span></a></li>
<li><a href="#md:3-bidirectional-connections"><span>3. <wbr/>Bidirectional connections</span></a></li>
<li><a href="#md:license"><span>License</span></a></li>
<li><a href="#md:contribution"><span>Contribution</span></a></li></ul></li></ul></li></ul></div></details></div>
<div class="site-menu">
<nav class="tsd-navigation"><a href="../index.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><g id="icon-4"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-namespace)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M9.33 16V7.24H10.77L13.446 14.74C13.43 14.54 13.41 14.296 13.386 14.008C13.37 13.712 13.354 13.404 13.338 13.084C13.33 12.756 13.326 12.448 13.326 12.16V7.24H14.37V16H12.93L10.266 8.5C10.282 8.692 10.298 8.936 10.314 9.232C10.33 9.52 10.342 9.828 10.35 10.156C10.366 10.476 10.374 10.784 10.374 11.08V16H9.33Z" fill="var(--color-text)"></path></g></svg><span>Documentation -<wbr/> v1.0.0</span></a>
<ul class="tsd-small-nested-navigation">
<li><a href="_libp2p_example_auto_relay.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/example-<wbr/>auto-<wbr/>relay</span></a></li>
<li><a href="_libp2p_example_chat.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/example-<wbr/>chat</span></a></li>
<li><a href="_libp2p_example_connection_encryption.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/example-<wbr/>connection-<wbr/>encryption</span></a></li>
<li><a href="_libp2p_example_delegated_routing_example.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/example-<wbr/>delegated-<wbr/>routing-<wbr/>example</span></a></li>
<li><a href="_libp2p_example_discovery_mechanisms.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/example-<wbr/>discovery-<wbr/>mechanisms</span></a></li>
<li><a href="_libp2p_example_echo.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/example-<wbr/>echo</span></a></li>
<li><a href="_libp2p_example_peer_and_content_routing.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/example-<wbr/>peer-<wbr/>and-<wbr/>content-<wbr/>routing</span></a></li>
<li><a href="_libp2p_example_pnet.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/example-<wbr/>pnet</span></a></li>
<li><a href="_libp2p_example_protocol_and_stream_muxing.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/example-<wbr/>protocol-<wbr/>and-<wbr/>stream-<wbr/>muxing</span></a></li>
<li><a href="_libp2p_example_pubsub.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/example-<wbr/>pubsub</span></a></li>
<li><a href="_libp2p_example_transports.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/example-<wbr/>transports</span></a></li>
<li><a href="_libp2p_crypto.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/crypto</span></a></li>
<li><a href="_libp2p_interface.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/interface</span></a></li>
<li><a href="_libp2p_interface_compliance_tests.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/interface-<wbr/>compliance-<wbr/>tests</span></a></li>
<li><a href="_libp2p_interface_internal.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/interface-<wbr/>internal</span></a></li>
<li><a href="_libp2p_kad_dht.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/kad-<wbr/>dht</span></a></li>
<li><a href="_libp2p_keychain.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/keychain</span></a></li>
<li><a href="libp2p.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>libp2p</span></a></li>
<li><a href="_libp2p_logger.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/logger</span></a></li>
<li><a href="_libp2p_prometheus_metrics.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/prometheus-<wbr/>metrics</span></a></li>
<li><a href="_libp2p_multistream_select.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/multistream-<wbr/>select</span></a></li>
<li><a href="_libp2p_peer_collections.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/peer-<wbr/>collections</span></a></li>
<li><a href="_libp2p_bootstrap.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/bootstrap</span></a></li>
<li><a href="_libp2p_mdns.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/mdns</span></a></li>
<li><a href="_libp2p_peer_id.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/peer-<wbr/>id</span></a></li>
<li><a href="_libp2p_peer_id_factory.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/peer-<wbr/>id-<wbr/>factory</span></a></li>
<li><a href="_libp2p_peer_record.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/peer-<wbr/>record</span></a></li>
<li><a href="_libp2p_peer_store.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/peer-<wbr/>store</span></a></li>
<li><a href="_libp2p_perf.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/perf</span></a></li>
<li><a href="_libp2p_pubsub.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/pubsub</span></a></li>
<li><a href="_libp2p_floodsub.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/floodsub</span></a></li>
<li><a href="_libp2p_mplex.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/mplex</span></a></li>
<li><a href="_libp2p_tcp.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/tcp</span></a></li>
<li><a href="_libp2p_webrtc.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/webrtc</span></a></li>
<li><a href="_libp2p_websockets.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/websockets</span></a></li>
<li><a href="_libp2p_webtransport.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/webtransport</span></a></li>
<li><a href="_libp2p_utils.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@libp2p/utils</span></a></li></ul></nav></div></div></div>
<div class="overlay"></div></body></html>